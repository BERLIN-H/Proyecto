{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nexport const useWhatsAppService = () => {\n  _s();\n  const [sending, setSending] = useState(false);\n  const apiBase = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n  const sendConfirmationMessage = async appointment => {\n    setSending(true);\n    try {\n      const response = await fetch(`${apiBase}/api/send-whatsapp-confirmation/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          appointment_id: appointment.id,\n          client_name: appointment.client_name,\n          client_phone: appointment.client_phone,\n          appointment_date: appointment.date,\n          appointment_time: appointment.time,\n          service_name: appointment.service_name\n        })\n      });\n      const result = await response.json();\n      if (!response.ok) {\n        throw new Error(result.error || 'Error desconocido al enviar mensaje');\n      }\n      return result;\n    } catch (error) {\n      console.error('Error enviando mensaje:', error);\n      throw error;\n    } finally {\n      setSending(false);\n    }\n  };\n  return {\n    sendConfirmationMessage,\n    sending\n  };\n};\n_s(useWhatsAppService, \"pxgiU+vbHB5ek5gp5Kib/6rtizE=\");","map":{"version":3,"names":["useState","useWhatsAppService","_s","sending","setSending","apiBase","process","env","REACT_APP_API_URL","sendConfirmationMessage","appointment","response","fetch","method","headers","body","JSON","stringify","appointment_id","id","client_name","client_phone","appointment_date","date","appointment_time","time","service_name","result","json","ok","Error","error","console"],"sources":["/Users/eduardosierra/Documents/ProAvanzadaProyectos/Proyecto/frontend/src/hooks/useWhatsAppService.js"],"sourcesContent":["import { useState } from 'react';\n\nexport const useWhatsAppService = () => {\n  const [sending, setSending] = useState(false);\n  const apiBase = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n  const sendConfirmationMessage = async (appointment) => {\n    setSending(true);\n    try {\n      const response = await fetch(`${apiBase}/api/send-whatsapp-confirmation/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          appointment_id: appointment.id,\n          client_name: appointment.client_name,\n          client_phone: appointment.client_phone,\n          appointment_date: appointment.date,\n          appointment_time: appointment.time,\n          service_name: appointment.service_name,\n        }),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || 'Error desconocido al enviar mensaje');\n      }\n\n      return result;\n    } catch (error) {\n      console.error('Error enviando mensaje:', error);\n      throw error;\n    } finally {\n      setSending(false);\n    }\n  };\n\n  return {\n    sendConfirmationMessage,\n    sending,\n  };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,OAAO,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGJ,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAMK,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;EAExE,MAAMC,uBAAuB,GAAG,MAAOC,WAAW,IAAK;IACrDN,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGP,OAAO,kCAAkC,EAAE;QACzEQ,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,cAAc,EAAER,WAAW,CAACS,EAAE;UAC9BC,WAAW,EAAEV,WAAW,CAACU,WAAW;UACpCC,YAAY,EAAEX,WAAW,CAACW,YAAY;UACtCC,gBAAgB,EAAEZ,WAAW,CAACa,IAAI;UAClCC,gBAAgB,EAAEd,WAAW,CAACe,IAAI;UAClCC,YAAY,EAAEhB,WAAW,CAACgB;QAC5B,CAAC;MACH,CAAC,CAAC;MAEF,MAAMC,MAAM,GAAG,MAAMhB,QAAQ,CAACiB,IAAI,CAAC,CAAC;MAEpC,IAAI,CAACjB,QAAQ,CAACkB,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAACH,MAAM,CAACI,KAAK,IAAI,qCAAqC,CAAC;MACxE;MAEA,OAAOJ,MAAM;IACf,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,MAAMA,KAAK;IACb,CAAC,SAAS;MACR3B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,OAAO;IACLK,uBAAuB;IACvBN;EACF,CAAC;AACH,CAAC;AAACD,EAAA,CAzCWD,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}